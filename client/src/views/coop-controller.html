<div ng-controller="coopApp.coopController">
	<div class="row">
		<div class="col-xs-8">
			<div class="row">
				<div class="col-xs-4" style="font-weight: bold;">Opening:</div>
				<div class="col-xs-8">{{openTime.hour}}:{{openTime.minute}}</div>
			</div>
			<div class="row">
				<div class="col-xs-4" style="font-weight: bold;">Closing:</div>
				<div class="col-xs-8">{{closeTime.hour}}:{{closeTime.minute}}</div>
			</div>
			<div class="row">
				<div class="col-xs-4" style="font-weight: bold;">Door:</div>
				<div class="col-xs-8"><span ng-show="doorHealth===doorStates.ok" class="label label-success">{{doorState}}</span>
							 <span ng-show="doorHealth===doorStates.transitioning || doorHealth===doorStates.unknown" class="label label-warning">{{doorState}}</span>
							 <span ng-show="doorHealth===doorStates.danger" class="label label-danger">{{doorState}}</span>
				</div>
			</div>
			<div class="row">
				<div class="col-xs-4" style="font-weight: bold;">Mode:</div>
				<div class="col-xs-8">{{mode}}</div>
			</div>
			<div class="row">
				<div class="col-xs-4" style="font-weight: bold;">Light:</div>
				<div class="col-xs-8">{{light}}</div>
			</div>
			<div class="row">
				<div class="col-xs-4" style="font-weight: bold;">Uptime:</div>
				<div class="col-xs-8">{{uptime}}</div>
			</div>
			<br/>
			<div class="row">
				<div class="col-xs-12">{{nextOpMessage}}</div>
			</div>
		</div>
		<div class="col-xs-4">
			<div class="col-xs-10">
				<img height="200" src="/src/img/chick.jpg"></img>
			</div>
		</div>
	</div>

	<br/>

	<div class="row">
		<div class="col-xs-12" ng-show="mode === 'manual'">
			<span class="label label-danger">Coop is in manual mode</span>
		</div>
		<div class="col-xs-12">
			<br/>
		</div>
		<div class="col-xs-12">
			<button type="button" class="btn btn-primary" ng-disabled="doorState!=='open' || mode === 'manual'" ng-click="closeDoor()"><span ng-show="closeActive" class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>&nbsp;Close</button>
			<button type="button" class="btn btn-primary" ng-disabled="doorState!=='closed' || mode === 'manual'" ng-click="openDoor()"><span ng-show="openActive" class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>&nbsp;Open</button>
		</div>
	</div>

	<br/>

	<div class="row">
		<div class="col-xs-12">
			<button type="button" class="btn btn-default" ng-click="reset()"><span ng-show="resetActive" class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span>&nbsp;Reset</button>
			<a href="/src/views/health.html"><button type="button" class="btn btn-default">Health</button></a>
			<div class="col-xs-12">
		</div>
	</div>
	<br/>
	<br/>
	<br/>

	<div class="row">
  		<div class="col-xs-12">
  			<img width="300" src="/video?t=z" onload='setTimeout(function() {src = src.substring(0, (src.lastIndexOf("t=")+2))+(new Date()).getTime()}, 1000)' onerror='setTimeout(function() {src = src.substring(0, (src.lastIndexOf("t=")+2))+(new Date()).getTime()}, 5000)' alt='' />
  		</div>
 	</div>
</div>